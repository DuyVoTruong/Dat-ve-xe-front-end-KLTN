"use strict";(self.webpackChunkdat_ve_xe=self.webpackChunkdat_ve_xe||[]).push([[8970],{8212:function(e,n,t){var a=t(4165),i=t(5861),r=t(9439),s=t(2791),c=t(5642),o=t(8429);n.Z=function(){var e=(0,s.useState)([]),n=(0,r.Z)(e,2),t=n[0],l=n[1],h=(0,s.useContext)(c.I).token,u=(0,s.useCallback)((0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.httpGetTuyenXe)();case 2:200==(n=e.sent).status?l(n.object):l([]);case 4:case"end":return e.stop()}}),e)}))),[]);(0,s.useEffect)((function(){u()}),[u]);var d=(0,s.useCallback)(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.httpPostTuyenXe)(n,h).then((function(e){return e.json()})).then((function(e){200==e.status?alert("Success"):alert(e.message)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert("Fail");case 8:u();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),[u]),x=(0,s.useCallback)(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.httpPutTuyenXe)(n,t,h).then((function(e){return e.json()})).then((function(e){200==e.status?alert("Success"):alert(e.message)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert("Fail");case 8:u();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n,t){return e.apply(this,arguments)}}(),[u]),p=(0,s.useCallback)(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.httpDeleteTuyenXe)(n,h).then((function(e){return e.json()})).then((function(e){e.status,alert(e.message)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert("Fail");case 8:u();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),[u]);return{tuyenXe:t,addTuyenXe:d,updateTuyenXe:x,deleteTuyenXe:p}}},9834:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(9439),i=t(2791),r=t(9743),s=t(2677),c=t(7022),o=t(9140),l=t(3360),h=t(6766),u=(t(5141),t(7689)),d=t(8212),x=t(39),p=(t(665),t(5642)),f=t.p+"static/media/anh-trang-chu.87c671789271a90d3b47.jpg",m=t.p+"static/media/xe.8ee2e696b76069278a3a.png",j=t(1457),g=t(9230),v=t(4651),Z=t(184);var y=function(){(0,i.useContext)(p.I).token;var e=(0,i.useContext)(p.I).account,n=(0,i.useState)([]),t=(0,a.Z)(n,2),y=t[0],b=t[1],k=(0,d.Z)().tuyenXe,T=(0,i.useState)([]),D=(0,a.Z)(T,2),C=D[0],w=D[1],X=(0,i.useState)(""),S=(0,a.Z)(X,2),N=S[0],B=S[1],F=(0,i.useState)(""),I=(0,a.Z)(F,2),P=I[0],L=I[1],_=(0,i.useState)(""),G=(0,a.Z)(_,2),M=G[0],O=G[1],Y=(0,i.useState)([]),A=(0,a.Z)(Y,2),E=A[0],V=A[1],q=new Date,z=(0,i.useState)([]),H=(0,a.Z)(z,2),Q=H[0],W=H[1],$=function(e){var n;if(e.getDate()<10||e.getMonth()<9){var t=e.getDate(),a=e.getMonth()+1;t<10&&(t="0"+t),a<9&&(a="0"+a),n=e.getFullYear()+"-"+a+"-"+t}else n=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();return n},J=$(q),K=(0,u.s0)();(0,i.useEffect)((function(){(0,x.QY)().then((function(e){if(e){b(e);for(var n=[],t=0;t<e.length;t++)n.indexOf(e[t].tinhThanh)<0&&n.push(e[t].tinhThanh);V(n)}})),(0,x.Sy)().then((function(e){e&&w(e)})),fetch("http://localhost:8080/api/thongke/nguoidung/sao-trung-binh/all").then((function(e){return e.json()})).then((function(e){e.object&&W(e.object)}))}),[]);var R={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:4},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},U=(0,g.$G)().t;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("img",{src:f,style:{height:"400px",width:"100%",display:"inline-block",objectFit:"cover"}}),(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",top:"-375px",width:"100%",height:"350px"},children:(0,Z.jsx)("div",{className:"search-form-container shadow",children:(0,Z.jsxs)(r.Z,{children:[(0,Z.jsx)(s.Z,{md:10,children:(0,Z.jsx)("div",{className:"search-form-border",children:(0,Z.jsx)("div",{style:{margin:"0px 10px"},children:(0,Z.jsxs)(r.Z,{children:[(0,Z.jsxs)(s.Z,{md:4,children:[(0,Z.jsx)("div",{className:"search-form-label",children:U("diemdi")}),(0,Z.jsxs)("select",{className:"search-form-select",id:"DiemDi",onChange:function(e){return L(e.target.value)},children:[E.map((function(e){return e!==P?(0,Z.jsx)("option",{value:e,children:e},"ttdi".concat(e)):(0,Z.jsx)("option",{selected:!0,value:e,children:e},"ttdi".concat(e))})),(0,Z.jsx)("option",{hidden:!0,children:U("chondiemdi")})]})]}),(0,Z.jsx)(s.Z,{md:1,children:(0,Z.jsx)("div",{className:"search-form-line",children:(0,Z.jsx)("div",{className:"search-form-line-icon",onClick:function(e){e.preventDefault();var n=P;L(M),O(n)},children:(0,Z.jsx)(v.TFW,{})})})}),(0,Z.jsxs)(s.Z,{md:4,children:[(0,Z.jsx)("div",{className:"search-form-label",children:U("diemden")}),(0,Z.jsxs)("select",{className:"search-form-select",id:"DiemDen",onChange:function(e){return O(e.target.value)},children:[E.map((function(e){return e!==M?(0,Z.jsx)("option",{value:e,children:e},"ttden".concat(e)):(0,Z.jsx)("option",{selected:!0,value:e,children:e},"ttden".concat(e))})),(0,Z.jsx)("option",{hidden:!0,children:U("chondiemden")})]})]}),(0,Z.jsx)(s.Z,{md:3,children:(0,Z.jsx)("input",{style:{margin:"20px 0px"},class:"form-control",type:"date",required:!0,defaultValue:N||$(q),onChange:function(e){return B(e.target.value)},min:(new Date).toISOString().split("T")[0]})})]})})})}),(0,Z.jsx)(s.Z,{md:2,children:(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,Z.jsx)("button",{className:"search-form-button",onClick:function(){K("/tuyen-xe/?diemDi=".concat(P,"&diemDen=").concat(M,"&date=").concat(N))},children:U("timkiem")})})})]})})}),(0,Z.jsxs)(c.Z,{style:{position:"relative",top:"-300px",marginBottom:"-350px"},children:[(0,Z.jsx)("h2",{style:{marginLeft:"30px"},children:U("cactuyenxetrongngay")}),(0,Z.jsx)(h.default,{infinite:!0,autoPlay:!1,autoPlaySpeed:2e3,responsive:R,children:k.map((function(n){if(n.ngayDi.indexOf(J)>=0)return(0,Z.jsx)(o.Z,{onClick:function(){e?function(e){K("/dat-ve-xe/"+e.id)}(n):window.alert(U("banphaidangnhapdedatve"))},style:{margin:"2rem"},className:"shadow card-transform",children:(0,Z.jsxs)(o.Z.Body,{children:[function(){var e="";return n.benXeDi&&(e=e+n.benXeDi.tenBenXe+" ("+n.benXeDi.tinhThanh+") => "),n.benXeDen&&(e=e+n.benXeDen.tenBenXe+" ("+n.benXeDen.tinhThanh+")"),(0,Z.jsx)(o.Z.Title,{children:e},n.id)}(),(0,Z.jsxs)(o.Z.Text,{children:[U("ngaydi"),": ",n.ngayDi]}),(0,Z.jsxs)(o.Z.Text,{children:[U("thoigianhanhtrinh"),": ",n.thoiGianHanhTrinh]}),(0,Z.jsxs)(o.Z.Text,{children:[U("gia"),": ",n.giaVe]})]})})}))}),(0,Z.jsx)("h2",{style:{marginTop:"50px",marginLeft:"30px"},children:U("danhsachcacdiemden")}),(0,Z.jsx)(h.default,{responsive:R,infinite:!0,autoPlaySpeed:1500,autoPlay:!1,children:y.map((function(e){return(0,Z.jsxs)(o.Z,{onClick:function(){return function(e){K("/lich-trinh?diemDen="+e)}(e.tinhThanh)},style:{margin:"1rem"},className:"shadow card-transform",children:[(0,Z.jsx)(o.Z.Img,{height:"100vh",variant:"top",src:j}),(0,Z.jsxs)(o.Z.Body,{children:[(0,Z.jsx)(o.Z.Title,{children:e.tenBenXe}),(0,Z.jsx)(o.Z.Text,{children:e.tinhThanh})]})]})}))}),(0,Z.jsx)("h2",{style:{marginTop:"50px",marginLeft:"30px"},children:U("danhsachcacnhaxe")}),(0,Z.jsx)(h.default,{responsive:R,infinite:!0,autoPlaySpeed:1500,autoPlay:!1,children:C.map((function(n){return(0,Z.jsxs)(o.Z,{style:{margin:"1rem"},className:"shadow card-transform",children:[(0,Z.jsx)(o.Z.Img,{height:"100vh",variant:"top",src:m}),(0,Z.jsxs)(o.Z.Body,{children:[(0,Z.jsx)(o.Z.Title,{children:n.tenNhaXe}),(0,Z.jsx)("span",{style:{fontSize:"14px"},children:[1,2,3,4,5].map((function(e,t){var a;return Q.map((function(e){e.id==n.id&&(a=e.saoTrungBinh)})),function(e,n){return e<=n?(0,Z.jsx)("span",{class:"fa fa-star checkedStar"}):(0,Z.jsx)("span",{class:"fa fa-star"})}(e,a)}))}),(0,Z.jsxs)(o.Z.Text,{children:[U("sdt"),": ",n.sdt]}),(0,Z.jsxs)(r.Z,{children:[(0,Z.jsx)(s.Z,{xs:6,sm:12,md:6,children:(0,Z.jsx)(l.Z,{style:{marginBottom:"8px",backgroundColor:"#0000CD",border:"none"},onClick:function(){return e=n.id,void K("/nha-xe-chi-tiet/"+e);var e},variant:"primary",children:U("chitiet")})}),(0,Z.jsx)(s.Z,{xs:6,sm:12,md:6,children:(0,Z.jsx)(l.Z,{style:{marginBottom:"8px",backgroundColor:"#20B2AA",border:"none"},onClick:function(){var t;e?(t=n.id,K("/nha-xe-danh-gia/"+t)):window.alert(U("banphaidangnhapdedanhgia"))},variant:"primary",children:U("danhgia")})})]})]})]})}))})]})]})}},665:function(){}}]);
//# sourceMappingURL=8970.355de698.chunk.js.map