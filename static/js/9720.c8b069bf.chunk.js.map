{"version":3,"file":"static/js/9720.c8b069bf.chunk.js","mappings":"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","sources":["components/nhaXe/ThongKe/ThongKeNhaXe.js","components/thongKe/BarChart.js","components/thongKe/PieChart.js"],"sourcesContent":["import { Bar, Pie } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n} from \"chart.js\"\r\nimport BarChart from \"../../thongKe/BarChart\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport PieChart from \"../../thongKe/PieChart\";\r\nimport { MyContext } from \"../../../App\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport InfoMessage from \"../../alert message/InfoMessage\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n)\r\n\r\nconst ThongKeNhaXe =()=>{\r\n\r\n    const token = useContext(MyContext).token;\r\n    const account = useContext(MyContext).account;\r\n    const [dataBar, setDataBar] = useState({});\r\n    const [optionsBar, setOptionsBar] = useState({});\r\n    const [dataPie, setDataPie] = useState([]);\r\n    const [optionsPie, setOptionsPie] = useState([]);\r\n    const [loaiXe, setLoaiXe] = useState([]);\r\n    const [tuyenXe, setTuyenXe] = useState([]);\r\n    const [show, setShow] = useState(false);\r\n\r\n    const [month, setMonth] = useState(\"\");\r\n    const [year, setYear] = useState(\"\");\r\n    const {t} = useTranslation();\r\n\r\n    useEffect(()=>{\r\n      if(Number(month)&&Number(year)){\r\n        fetch(\"http://localhost:8081/api/thongke/nhaxe/loai-xe\",{\r\n          method: \"POST\",\r\n          headers: {\r\n              'Authorization': 'Bearer ' + token,\r\n              \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({month, year, nhaXeId: account.id}),\r\n        }).then(res=>res.json()).then(data=>{\r\n          if(data.status==200){\r\n            setLoaiXe(data.object);\r\n          }\r\n        })\r\n\r\n        fetch(\"http://localhost:8081/api/thongke/nhaxe/tuyenxe\",{\r\n          method: \"POST\",\r\n          headers: {\r\n              'Authorization': 'Bearer ' + token,\r\n              \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({month, year, nhaXeId: account.id}),\r\n        }).then(res=>res.json()).then(data=>{\r\n          if(data.status==200){\r\n            setTuyenXe(data.object);\r\n          }\r\n        })\r\n      }\r\n    },[month, year])\r\n\r\n    const thongKeTheoLoaiXe =()=>{\r\n      if(!Number(month)||!Number(year)){\r\n        InfoMessage(t(\"Tháng và năm phải là số\"));\r\n      }else if(Number(month)>12||Number(month)<0){\r\n        InfoMessage(t(\"Tháng phải nằm trong khoảng từ 1 đến 12\"))\r\n      }\r\n      else{\r\n        setDataBar({\r\n          labels: loaiXe.map(lx=>lx.tenLoaiXe),\r\n          datasets: [\r\n            {\r\n              label: t(\"Doanh thu (đơn vị: đồng)\"),\r\n              backgroundColor: [\r\n                \"#3e95cd\",\r\n                \"#8e5ea2\",\r\n                \"#3cba9f\",\r\n                \"#e8c3b9\",\r\n                \"#c45850\"\r\n              ],\r\n              data: loaiXe.map(lx=>lx.tongDoanhThu)\r\n            }\r\n          ]\r\n        });\r\n\r\n        setDataPie({\r\n          labels: loaiXe.map(lx=>lx.tenLoaiXe),\r\n          datasets: [\r\n            {\r\n              label: t(\"Tỷ lệ (đơn vị: %)\"),\r\n              backgroundColor: [\r\n                \"#3e95cd\",\r\n                \"#8e5ea2\",\r\n                \"#3cba9f\",\r\n                \"#e8c3b9\",\r\n                \"#c45850\"\r\n              ],\r\n              data: loaiXe.map(lx=>lx.tyLe)\r\n            }\r\n          ]\r\n        });\r\n\r\n        setOptionsBar({\r\n          responsive:true,\r\n          plugins:{\r\n            legend: {\r\n              //display: false,\r\n              position: \"top\"\r\n            },\r\n            title: {\r\n              display: true,\r\n              text: t(\"Doanh thu theo loại xe\")\r\n            }\r\n          }\r\n        });\r\n\r\n        setOptionsPie({\r\n          responsive:true,\r\n          plugins:{\r\n            legend: {\r\n              //display: false,\r\n              position: \"top\"\r\n            },\r\n            title: {\r\n              display: true,\r\n              text: t(\"Tỷ lệ phần trăm doanh thu theo loại xe\")\r\n            }\r\n          }\r\n        });\r\n        setShow(\"LoaiXe\");\r\n      }\r\n    }\r\n\r\n    const thongKeTheoTuyenXe =()=>{\r\n      if(!Number(month)||!Number(year)){\r\n        InfoMessage(t(\"Tháng và năm phải là số\"));\r\n      }else if(Number(month)>12||Number(month)<0){\r\n        InfoMessage(t(\"Tháng phải nằm trong khoảng từ 1 đến 12\"))\r\n      }\r\n      else{\r\n        setDataBar({\r\n          labels: tuyenXe.map(tx=>{return(tx.tinhThanhDi+ \" \" + t(\"đến\") + \" \" + tx.tinhThanhDen)}),\r\n          datasets: [\r\n            {\r\n              label: t(\"Doanh thu (đơn vị: đồng)\"),\r\n              backgroundColor: [\r\n                \"#3e95cd\",\r\n                \"#8e5ea2\",\r\n                \"#3cba9f\",\r\n                \"#e8c3b9\",\r\n                \"#c45850\"\r\n              ],\r\n              data: tuyenXe.map(tx=>tx.tongDoanhThu)\r\n            }\r\n          ]\r\n        });\r\n  \r\n        setDataPie({\r\n          labels: tuyenXe.map(tx=>{return(tx.tinhThanhDi+\" đến \"+tx.tinhThanhDen)}),\r\n          datasets: [\r\n            {\r\n              label: t(\"Tỷ lệ (đơn vị: %)\"),\r\n              backgroundColor: [\r\n                \"#3e95cd\",\r\n                \"#8e5ea2\",\r\n                \"#3cba9f\",\r\n                \"#e8c3b9\",\r\n                \"#c45850\"\r\n              ],\r\n              data: tuyenXe.map(tx=>tx.tyLe)\r\n            }\r\n          ]\r\n        });\r\n  \r\n        setOptionsBar({\r\n          responsive:true,\r\n          plugins:{\r\n            legend: {\r\n              //display: false,\r\n              position: \"top\"\r\n            },\r\n            title: {\r\n              display: true,\r\n              text: t(\"Doanh thu theo tuyến xe\")\r\n            }\r\n          }\r\n        });\r\n  \r\n        setOptionsPie({\r\n          responsive:true,\r\n          plugins:{\r\n            legend: {\r\n              //display: false,\r\n              position: \"top\"\r\n            },\r\n            title: {\r\n              display: true,\r\n              text: t(\"Tỷ lệ phần trăm doanh thu theo tuyến xe\")\r\n            }\r\n          }\r\n        });\r\n        setShow(\"TuyenXe\");\r\n      }\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <ToastContainer/>\r\n        <div style={{textAlign: \"center\", marginBottom:\"30px\", marginTop:\"20px\"}}><h1>{t(\"Thống kê\")}</h1></div>\r\n        <div style={{margin: \"20px\", backgroundColor:\"white\", borderRadius: \"5px\"}} className=\"shadow\">\r\n        <div style={{display:\"flex\"}}>\r\n          <Form.Label style={{margin:\"15px\"}}>{t(\"Tháng\")}:</Form.Label>\r\n          <Form.Control onChange={e=>setMonth(e.target.value)} type=\"text\" style={{margin: \"10px\", width:\"20%\"}} placeholder={t(\"Nhập tháng cần thống kê\")}></Form.Control>\r\n          <Form.Label style={{margin:\"15px\"}}>{t(\"Năm\")}:</Form.Label>\r\n          <Form.Control onChange={e=>setYear(e.target.value)} type=\"text\" style={{margin: \"10px\", width:\"20%\"}} placeholder={t(\"Nhập năm cần thống kê\")}></Form.Control>\r\n        </div>\r\n        <div style={{display:\"flex\"}}>\r\n          <Button style={{margin: \"10px\"}} onClick={thongKeTheoLoaiXe}>{t(\"Thống kê theo loại xe\")}</Button>\r\n          <Button style={{margin: \"10px\"}} onClick={thongKeTheoTuyenXe}>{t(\"Thống kê theo tuyến xe\")}</Button>\r\n        </div>\r\n          {\r\n            (()=>{\r\n              if(show===\"LoaiXe\"){\r\n                return(\r\n                  <>\r\n                  <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n                    <div style={{margin: \"20px\", border: \"1px solid black\", height:\"40vh\", width:\"30vw\", padding: \"1%\"}}>\r\n                      <BarChart data={dataBar} options={optionsBar}></BarChart>\r\n                    </div>\r\n                    <div style={{margin: \"20px\", border: \"1px solid black\", height:\"40vh\", width:\"30vw\", padding: \"1%\"}}>\r\n                      <PieChart data={dataPie} options={optionsPie}></PieChart>\r\n                    </div>\r\n                  </div>\r\n                  </>\r\n                )\r\n              }else if(show===\"TuyenXe\"){\r\n                return(\r\n                  <>\r\n                  <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n                    <div style={{margin: \"20px\", border: \"1px solid black\", height:\"40vh\", width:\"30vw\", padding: \"1%\"}}>\r\n                      <BarChart data={dataBar} options={optionsBar}></BarChart>\r\n                    </div>\r\n                    <div style={{margin: \"20px\", border: \"1px solid black\", height:\"40vh\", width:\"30vw\", padding: \"1%\"}}>\r\n                      <PieChart data={dataPie} options={optionsPie}></PieChart>\r\n                    </div>\r\n                  </div>\r\n                  </>\r\n                )\r\n              }\r\n            })()\r\n          }\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ThongKeNhaXe;","import { Bar, Pie } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  PieController\r\n} from \"chart.js\"\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n)\r\n\r\nconst BarChart =({data, options})=>{\r\n\r\n    return(\r\n        <>\r\n          <Bar data={data} options={options}/>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default BarChart;","import { Pie } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n} from \"chart.js\"\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  ArcElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n)\r\n\r\nconst PieChart =({data, options})=>{\r\n\r\n    return(\r\n        <>\r\n            <Pie data={data} options={options}/>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PieChart;"],"names":["ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","token","useContext","MyContext","account","useState","dataBar","setDataBar","optionsBar","setOptionsBar","dataPie","setDataPie","optionsPie","setOptionsPie","loaiXe","setLoaiXe","tuyenXe","setTuyenXe","show","setShow","month","setMonth","year","setYear","t","useTranslation","useEffect","Number","fetch","method","headers","body","JSON","stringify","nhaXeId","id","then","res","json","data","status","object","style","textAlign","marginBottom","marginTop","margin","backgroundColor","borderRadius","className","display","onChange","e","target","value","type","width","placeholder","onClick","InfoMessage","labels","map","lx","tenLoaiXe","datasets","label","tongDoanhThu","tyLe","responsive","plugins","legend","position","title","text","tx","tinhThanhDi","tinhThanhDen","justifyContent","alignItems","border","height","padding","options","ArcElement"],"sourceRoot":""}