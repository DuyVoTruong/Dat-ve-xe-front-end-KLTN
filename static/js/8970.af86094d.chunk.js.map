{"version":3,"file":"static/js/8970.af86094d.chunk.js","mappings":"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","sources":["components/alert message/FailMessage.js","components/hooks/useTuyenXe.js","components/web/Home.js"],"sourcesContent":["import { toast } from \"react-toastify\"\r\nimport { FAIL_MESSAGE } from \"../../constants/messages\"\r\n\r\nconst FailMessage =(message=FAIL_MESSAGE)=>{\r\n    toast.fail(message, {\r\n        position: toast.POSITION.TOP_RIGHT\r\n    });\r\n}\r\n\r\nexport default FailMessage;","import { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { MyContext } from \"../../App\";\r\nimport { httpDeleteTuyenXe, httpGetTuyenXe, httpGetTuyenXeAdmin, httpPostTuyenXe, httpPutTuyenXe } from \"./Request\";\r\nimport SuccessMessage from \"../alert message/SuccessMessage\";\r\nimport ErrorMessage from \"../alert message/ErrorMessage\";\r\nimport FailMessage from \"../alert message/FailMessage\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nfunction useTuyenXe(){\r\n    const [tuyenXe, setTuyenXe] = useState([]);\r\n    const token = useContext(MyContext).token;\r\n    const account = useContext(MyContext).account;\r\n    const {t}=useTranslation();\r\n\r\n    const getTuyenXe = useCallback(async() => {\r\n\r\n        if(account){\r\n            if(account.role==\"USER\"){\r\n                const fetchedTuyenXe = await httpGetTuyenXe();\r\n                if (fetchedTuyenXe.status == 200){\r\n                    setTuyenXe(fetchedTuyenXe.object)\r\n                }\r\n                else {\r\n                    setTuyenXe([]);\r\n                }\r\n            } else if(account.role==\"ADMIN\"){\r\n                const fetchedTuyenXe = await httpGetTuyenXeAdmin(token);\r\n                if (fetchedTuyenXe.status == 200){\r\n                    setTuyenXe(fetchedTuyenXe.object)\r\n                }\r\n                else {\r\n                    setTuyenXe([]);\r\n                }\r\n            }\r\n        } else {\r\n            const fetchedTuyenXe = await httpGetTuyenXe();\r\n            if (fetchedTuyenXe.status == 200){\r\n                setTuyenXe(fetchedTuyenXe.object)\r\n            }\r\n            else {\r\n                setTuyenXe([]);\r\n            }\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getTuyenXe();\r\n    }, [getTuyenXe]);\r\n\r\n    const addTuyenXe = useCallback(async(data) => {\r\n        //if (!data.tenTuyenXe||!data.diaChi){\r\n            //alert(\"Missing data\");\r\n        //}\r\n        //else{\r\n            try {\r\n                await httpPostTuyenXe(data,token).then(res => res.json()).then(data => {\r\n                    if (data.status == 200){\r\n                        SuccessMessage(t(\"Thành công\"));\r\n                    }\r\n                    else{\r\n                        ErrorMessage(t(\"Thất bại\"));\r\n                    }\r\n                })\r\n            } catch(err) {\r\n                FailMessage(t(\"Thất bại\"));\r\n            }\r\n        //}\r\n        getTuyenXe();\r\n    }, [getTuyenXe]);\r\n\r\n    const updateTuyenXe = useCallback(async(idTuyenXe, data) => {\r\n        //if (!data.tenTuyenXe||!data.diaChi){\r\n            //alert(\"Missing data\");\r\n        //}\r\n        //else {\r\n            try {\r\n                await httpPutTuyenXe(idTuyenXe, data, token).then(res => res.json()).then(data =>{\r\n                    if (data.status == 200){\r\n                        SuccessMessage(t(\"Thành công\"));\r\n                    }\r\n                    else {\r\n                        ErrorMessage(t(\"Thất bại\"));\r\n                    }\r\n                })\r\n            }catch(err) {\r\n                FailMessage(t(\"Thất bại\"));\r\n            }\r\n        //}\r\n        getTuyenXe();\r\n    },[getTuyenXe])\r\n\r\n    const deleteTuyenXe = useCallback(async(idTuyenXe) => {\r\n        try {\r\n            await httpDeleteTuyenXe(idTuyenXe,token).then(res => res.json()).then(data => {\r\n                if(data.status == 200){\r\n                    SuccessMessage(t(\"Thành công\"));\r\n                }\r\n                else{\r\n                    ErrorMessage(t(\"Thất bại\"));\r\n                }\r\n            })\r\n        }catch(err) {\r\n            FailMessage(t(\"Thất bại\"));\r\n        }\r\n        getTuyenXe();\r\n    },[getTuyenXe])\r\n\r\n    return {\r\n        tuyenXe,\r\n        addTuyenXe,\r\n        updateTuyenXe,\r\n        deleteTuyenXe,\r\n    }\r\n}\r\n\r\nexport default useTuyenXe;","import { useContext, useEffect, useState } from 'react';\r\nimport { Button, Card, Col, Container, Row } from 'react-bootstrap';\r\nimport Carousel from 'react-multi-carousel';\r\nimport 'react-multi-carousel/lib/styles.css';\r\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\r\nimport useTuyenXe from '../hooks/useTuyenXe';\r\nimport {getAllBenXeUser, getNhaXeUserAll, getSaoTrungBinhNhaXe} from '../hooks/useFunction'\r\nimport \"../../css/rating.css\"\r\nimport { MyContext } from '../../App';\r\nimport image from '../../assets/img/anh-trang-chu.jpg';\r\nimport imageXe from '../../assets/img/xe.png';\r\nimport imageDiemDen from '../../assets/img/diemDen.png';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {VscArrowSwap} from \"react-icons/vsc\"\r\nimport swal from 'sweetalert';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\n\r\nfunction Home(){\r\n  \r\n    const token = useContext(MyContext).token;\r\n    const account = useContext(MyContext).account;\r\n    const location = useLocation()\r\n    const queryParameters = new URLSearchParams(location.search)\r\n\r\n    const [benXe, setBenXe] = useState([]);\r\n    const {tuyenXe} = useTuyenXe();\r\n    const [nhaXe, setNhaXe] = useState([]);\r\n    const [date, setDate] = useState(\"\");\r\n    const [diemDi, setDiemDi] = useState(\"\");\r\n    const [diemDen, setDiemDen] = useState(\"\");\r\n    const [tinhThanh, setTinhThanh] = useState([]);\r\n    let d = new Date();\r\n    const [sao, setSao] = useState([]);\r\n\r\n    const convertNgay=(d)=>{\r\n      let ngay;\r\n      if(d.getDate()<10||d.getMonth()<9){\r\n          let date=d.getDate();\r\n          let month=d.getMonth()+1;\r\n          if(date<10){\r\n              date=\"0\"+date;\r\n          }\r\n          if(month<9){\r\n              month=\"0\"+month\r\n          }\r\n          ngay = d.getFullYear()+\"-\"+month+\"-\"+date;\r\n      }else{\r\n          ngay = d.getFullYear()+\"-\"+(d.getMonth()+1)+\"-\"+d.getDate();\r\n      }\r\n      return ngay;\r\n    }\r\n\r\n    const toDay = convertNgay(d);\r\n    const nav=useNavigate();\r\n    const danhSachTuyenXe =(diemDen)=>{\r\n      nav(\"/lich-trinh?diemDen=\"+diemDen)\r\n    }\r\n    const datVe =(tx)=>{\r\n      nav(\"/dat-ve-xe/\"+tx.id)\r\n    }\r\n    const xemThongTinNhaXe =(id)=>{\r\n      nav(\"/nha-xe-chi-tiet/\"+ id);\r\n    }\r\n    const danhGiaNhaXe =(id)=>{\r\n      nav(\"/nha-xe-danh-gia/\"+id);\r\n    }\r\n\r\n    const timKiem =()=> {\r\n      nav(`/tuyen-xe/?diemDi=${diemDi}&diemDen=${diemDen}&date=${date}`);\r\n    }\r\n\r\n    const checkStar =(i, soSao)=>{\r\n      if(i<=soSao){\r\n        return(\r\n          <span class=\"fa fa-star checkedStar\"></span>\r\n        )\r\n      }\r\n      return(\r\n        <span class=\"fa fa-star\"></span>\r\n      )\r\n    }\r\n\r\n    const onClickSwap =(event)=>{\r\n      event.preventDefault();\r\n      const temp = diemDi;\r\n      setDiemDi(diemDen);\r\n      setDiemDen(temp);\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n      getAllBenXeUser().then(data=>{\r\n        if(data){\r\n          setBenXe(data)\r\n          const tempt = [];\r\n          for(let i=0; i<data.length; i++){\r\n            if(tempt.indexOf(data[i].tinhThanh)<0){\r\n              tempt.push(data[i].tinhThanh);\r\n            }\r\n          }\r\n          setTinhThanh(tempt)\r\n        }\r\n      })\r\n      getNhaXeUserAll().then(data=>{\r\n        if(data){\r\n          setNhaXe(data)\r\n        }\r\n      })\r\n      fetch(\"http://localhost:8081/api/thongke/nguoidung/sao-trung-binh/all\").then(res=>res.json()).then(data=>{\r\n      if(data.object){\r\n          setSao(data.object);\r\n        }\r\n      })\r\n    },[])\r\n\r\n\r\n    useEffect(()=>{\r\n      const status = queryParameters.get('trang-thai');\r\n      const code = queryParameters.get(\"ma-thanh-toan\");\r\n      if(status==\"success\"){\r\n        swal({\r\n          title: t(\"Thanh toán thành công\"),\r\n          text: \"\",\r\n          icon: \"success\",\r\n          button: \"Ok\",\r\n        });\r\n      } else if(status==\"failed\"||status==\"invalid signature\"){\r\n        swal({\r\n          title: t(\"Thanh toán thất bại\"),\r\n          text: \"\",\r\n          icon: \"error\",\r\n          button: \"Ok\",\r\n        });\r\n      }\r\n    },[])\r\n\r\n    const responsive = {\r\n        superLargeDesktop: {\r\n          // the naming can be any, depends on you.\r\n          breakpoint: { max: 4000, min: 3000 },\r\n          items: 5\r\n        },\r\n        desktop: {\r\n          breakpoint: { max: 3000, min: 1024 },\r\n          items: 4\r\n        },\r\n        tablet: {\r\n          breakpoint: { max: 1024, min: 464 },\r\n          items: 2\r\n        },\r\n        mobile: {\r\n          breakpoint: { max: 464, min: 0 },\r\n          items: 1\r\n        }\r\n      };\r\n\r\n      const { t } = useTranslation();\r\n\r\n    return(\r\n        <>\r\n        <ToastContainer/>\r\n        <img src={image} style={{height: \"400px\",width:\"100%\", display: \"inline-block\", objectFit: \"cover\"}}/>\r\n        \r\n        <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", position: 'relative', top:\"-375px\", width:\"100%\", height: \"350px\",}}>\r\n          <div className='search-form-container shadow'>\r\n          <Row>\r\n            <Col md={10}>\r\n            <div className='search-form-border'>\r\n              <div style={{margin:\"0px 10px\"}}>\r\n              <Row>\r\n                <Col md={4}>\r\n                <div className='search-form-label'>{t(\"Điểm đi\")}</div>\r\n                <select className='search-form-select' id=\"DiemDi\" onChange={e=>setDiemDi(e.target.value)}>\r\n                  {\r\n                    tinhThanh.map(t=>{\r\n                      if(t!==diemDi){\r\n                        return(<option key={`ttdi${t}`} value={t}>{t}</option>)\r\n                      }else{\r\n                        return(<option selected key={`ttdi${t}`} value={t}>{t}</option>)\r\n                      }\r\n                    })\r\n                  }\r\n                  <option hidden>{t(\"Chọn điểm đi\")}</option>\r\n                </select>\r\n                </Col>\r\n                <Col md={1}>\r\n                <div className='search-form-line'><div className='search-form-line-icon' onClick={onClickSwap}><VscArrowSwap></VscArrowSwap></div></div>\r\n                </Col>\r\n                <Col md={4}>\r\n                <div className='search-form-label'>{t(\"Điểm đến\")}</div>\r\n                <select className='search-form-select' id=\"DiemDen\" onChange={e=>setDiemDen(e.target.value)}>\r\n                  {\r\n                    tinhThanh.map(t=>{\r\n                      if(t!==diemDen){\r\n                        return(<option key={`ttden${t}`} value={t}>{t}</option>)\r\n                      }else{\r\n                        return(<option selected key={`ttden${t}`} value={t}>{t}</option>)\r\n                      }\r\n                    })\r\n                  }\r\n                  <option hidden>{t(\"Chọn điểm đến\")}</option>\r\n                </select>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <input style={{margin:\"20px 0px\"}} class=\"form-control\" type=\"date\" required defaultValue={date||convertNgay(d)} onChange={e=>setDate(e.target.value)} min={new Date().toISOString().split('T')[0]}/>\r\n                </Col>\r\n                </Row>\r\n                </div>\r\n            </div>\r\n            </Col>\r\n            <Col md={2}>\r\n              <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", height: \"100%\"}}>\r\n                <button className='search-form-button' onClick={timKiem}>{t('Tìm kiếm')}</button>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          </div>\r\n        </div>\r\n\r\n        <Container style={{ position: \"relative\", top: \"-300px\", marginBottom: \"-350px\"}}>\r\n\r\n          <h2 style={{marginLeft: \"30px\"}}>{t(\"Các tuyến xe trong ngày\")}</h2>\r\n          <Carousel infinite={true} autoPlay={false} autoPlaySpeed={2000} responsive={responsive}>\r\n            {tuyenXe.map(tx =>{\r\n              if(tx.ngayDi.indexOf(toDay)>=0){\r\n                return(\r\n                  <Card onClick={()=>{\r\n                    if(!account){\r\n                      swal({\r\n                        title: t(\"Bạn phải đăng nhập để đặt vé\"),\r\n                        text: \"\",\r\n                        icon: \"info\",\r\n                        button: \"Ok\",\r\n                      });\r\n                    }else{\r\n                      datVe(tx)\r\n                    }}} \r\n                    style={{ margin: \"2rem\" }} \r\n                    className=\"shadow card-transform\">\r\n                    <Card.Body>\r\n                      {\r\n                        (()=>{\r\n                          let title=\"\";\r\n                          if(tx.benXeDi){\r\n                              title = title + tx.benXeDi.tenBenXe + \" (\"+ tx.benXeDi.tinhThanh+\") => \";\r\n                          }\r\n                          if(tx.benXeDen){\r\n                              title = title + tx.benXeDen.tenBenXe + \" (\"+ tx.benXeDen.tinhThanh+\")\";\r\n                          }\r\n                          return(\r\n                            <Card.Title key={tx.id}>{title}</Card.Title>\r\n                          )\r\n                        })()\r\n                      }\r\n                          <Card.Text>\r\n                          {t('Ngày đi')}: {tx.ngayDi}\r\n                          </Card.Text>\r\n                          <Card.Text>\r\n                          {t(\"Thời gian hành trình\")}: {tx.thoiGianHanhTrinh}\r\n                          </Card.Text>\r\n                          <Card.Text>\r\n                          {t(\"Giá\")}: {tx.giaVe}\r\n                          </Card.Text>\r\n                    </Card.Body>\r\n                  </Card>\r\n                );\r\n              }\r\n            })}\r\n          </Carousel>\r\n\r\n        <h2 style={{marginTop:\"50px\", marginLeft: \"30px\"}}>{t(\"Danh sách các điểm đến\")}</h2>\r\n        <Carousel responsive={responsive} infinite={true} autoPlaySpeed={1500} autoPlay={false}>\r\n          {benXe.map(bx =>{\r\n            return(\r\n                <Card onClick={()=>danhSachTuyenXe(bx.tinhThanh)} style={{ margin: \"1rem\" }} className=\"shadow card-transform\">\r\n                  <Card.Img height={\"100vh\"} variant=\"top\" src={imageDiemDen} />\r\n                  <Card.Body>\r\n                      <Card.Title>{bx.tenBenXe}</Card.Title>\r\n                      <Card.Text>\r\n                      {bx.tinhThanh}\r\n                      </Card.Text>\r\n                  </Card.Body>\r\n                </Card>\r\n            );\r\n          })}\r\n        </Carousel>\r\n\r\n        <h2 style={{marginTop:\"50px\", marginLeft: \"30px\"}}>{t(\"Danh sách các nhà xe\")}</h2>\r\n        <Carousel responsive={responsive} infinite={true} autoPlaySpeed={1500} autoPlay={false}>\r\n          {nhaXe.map(nx =>{\r\n            return(\r\n                <Card style={{ margin: \"1rem\" }} className=\"shadow card-transform\">\r\n                  <Card.Img height={\"100vh\"} variant=\"top\" src={nx.picture} />\r\n                  <Card.Body>\r\n                      <Card.Title>{nx.tenNhaXe}</Card.Title>\r\n                      <span style={{fontSize: \"14px\"}}>\r\n                      {\r\n                        [1,2,3,4,5].map((i, index)=>{\r\n                          let soSao;\r\n                          sao.map(s=>{\r\n                            if(s.id==nx.id){\r\n                              soSao=s.saoTrungBinh;\r\n                            }\r\n                          });\r\n                          return checkStar(i, soSao);\r\n                        })\r\n                      }\r\n                      </span>\r\n                      <Card.Text>\r\n                      {t('SĐT')}: {nx.sdt}\r\n                      </Card.Text>\r\n                      <Row>\r\n                        <Col xs={6} sm={12} md={6}>\r\n                          <Button style={{marginBottom:\"8px\", backgroundColor: \"#0000CD\", border: \"none\"}} onClick={()=>xemThongTinNhaXe(nx.id)} variant=\"primary\">{t(\"Chi tiết\")}</Button>\r\n                        </Col>\r\n                        <Col xs={6} sm={12} md={6}>\r\n                          <Button \r\n                            style={{marginBottom:\"8px\", backgroundColor: \"#20B2AA\", border: \"none\"}} \r\n                            onClick={()=>{\r\n                              if(!account){\r\n                                swal({\r\n                                  title: t(\"Bạn phải đăng nhập để đánh giá\"),\r\n                                  text: \"\",\r\n                                  icon: \"info\",\r\n                                  button: \"Ok\",\r\n                                });\r\n                              }else{\r\n                                danhGiaNhaXe(nx.id)\r\n                            }}} \r\n                            variant=\"primary\">{t(\"Đánh giá\")}\r\n                          </Button>\r\n                        </Col>\r\n                      </Row>\r\n                  </Card.Body>\r\n                </Card>\r\n            );\r\n          })}\r\n        </Carousel>\r\n        </Container>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;"],"names":["message","FAIL_MESSAGE","toast","position","useState","tuyenXe","setTuyenXe","token","useContext","MyContext","account","t","useTranslation","getTuyenXe","useCallback","role","httpGetTuyenXe","fetchedTuyenXe","status","object","httpGetTuyenXeAdmin","useEffect","addTuyenXe","data","httpPostTuyenXe","then","res","json","SuccessMessage","ErrorMessage","FailMessage","updateTuyenXe","idTuyenXe","httpPutTuyenXe","deleteTuyenXe","httpDeleteTuyenXe","location","useLocation","queryParameters","URLSearchParams","search","benXe","setBenXe","useTuyenXe","nhaXe","setNhaXe","date","setDate","diemDi","setDiemDi","diemDen","setDiemDen","tinhThanh","setTinhThanh","d","Date","sao","setSao","convertNgay","ngay","getDate","getMonth","month","getFullYear","toDay","nav","useNavigate","getAllBenXeUser","tempt","i","length","indexOf","push","getNhaXeUserAll","fetch","get","swal","title","text","icon","button","responsive","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","mobile","src","image","style","height","width","display","objectFit","justifyContent","alignItems","top","className","Row","Col","md","margin","id","onChange","e","target","value","map","selected","hidden","onClick","event","preventDefault","temp","class","type","required","defaultValue","toISOString","split","Container","marginBottom","marginLeft","infinite","autoPlay","autoPlaySpeed","tx","ngayDi","Card","datVe","benXeDi","tenBenXe","benXeDen","thoiGianHanhTrinh","giaVe","marginTop","bx","danhSachTuyenXe","variant","imageDiemDen","nx","picture","tenNhaXe","fontSize","index","soSao","s","saoTrungBinh","checkStar","sdt","xs","sm","Button","backgroundColor","border"],"sourceRoot":""}