"use strict";(self.webpackChunkdat_ve_xe=self.webpackChunkdat_ve_xe||[]).push([[679],{679:function(e,n,t){t.r(n);var i=t(9439),r=t(2791),a=t(3063),o=t(3360),s=t(7692),c=t(9126),l=t(828),d=t(8212),u=t(3810),h=t(1101),x=t(3513),m=t(39),p=t(6053),f=t(9230),b=t(9085),g=t(184);n.default=function(){var e=(0,d.Z)(),n=e.tuyenXe,t=e.updateTuyenXe,v=e.addTuyenXe,j=e.deleteTuyenXe,y=(0,r.useState)(""),X=(0,i.Z)(y,2),Z=X[0],T=X[1],C=(0,r.useState)(!1),w=(0,i.Z)(C,2),B=w[0],k=w[1],D=(0,r.useState)(!1),N=(0,i.Z)(D,2),S=N[0],I=N[1],G=(0,r.useState)([]),E=(0,i.Z)(G,2),V=E[0],L=E[1],A=(0,f.$G)().t,H=function(e,n){if(!0===window.confirm("Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i")){var i=n.benXeDi.tenBenXe,r=n.benXeDen.tenBenXe,a=n.ngayDi,o=n.gioDi,s=n.thoiGianHanhTrinh,c=n.giaVe,l=n.xe.bienSoXe,d="ACTIVE";!0===document.getElementById("switch".concat(n.id)).checked?(d="ACTIVE",document.getElementById("switch".concat(n.id)).checked=!1):(d="INACTIVE",document.getElementById("switch".concat(n.id)).checked=!0),t(e,{ngayDi:a,gioDi:o,thoiGianHanhTrinh:s,giaVe:c,trangThai:d,bienSoXe:l,tenBenXeDi:i,tenBenXeDen:r})}else{var u=document.getElementById("switch".concat(n.id)).checked;document.getElementById("switch".concat(n.id)).checked=!0!==u}},F=[{name:(0,g.jsx)("div",{children:A("B\u1ebfn xe \u0111i")}),selector:function(e){return e.benXeDi.tenBenXe},sortable:!0,wrap:!0},{name:(0,g.jsx)("div",{children:A("B\u1ebfn xe \u0111\u1ebfn")}),selector:function(e){return e.benXeDen.tenBenXe},sortable:!0,wrap:!0},{name:(0,g.jsx)("div",{children:A("Bi\u1ec3n s\u1ed1 xe")}),selector:function(e){return e.xe.bienSoXe},sortable:!0,wrap:!0},{name:(0,g.jsx)("div",{children:A("Ng\xe0y \u0111i")}),selector:function(e){return e.ngayDi},sortable:!0,wrap:!0},{name:(0,g.jsx)("div",{children:A("Gi\u1edd kh\u1edfi h\xe0nh")}),selector:function(e){return e.gioDi},sortable:!0,wrap:!0},{name:(0,g.jsx)("div",{children:A("Th\u1eddi gian h\xe0nh tr\xecnh")}),selector:function(e){return e.thoiGianHanhTrinh},sortable:!0,wrap:!0},{name:(0,g.jsx)("div",{children:A("Gi\xe1 (\u0111\u01a1n v\u1ecb: \u0111\u1ed3ng)")}),selector:function(e){return e.giaVe},sortable:!0,wrap:!0},{name:(0,g.jsx)("div",{children:A("Tr\u1ea1ng th\xe1i")}),selector:function(e,n){return"ACTIVE"===e.trangThai?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("td",{children:(0,g.jsx)(a.Z.Check,{onChange:function(){return H(e.id,e)},type:"switch",defaultChecked:!0,id:"switch".concat(e.id)},"ACTIVE"+n)})}):"INACTIVE"===e.trangThai?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("td",{children:(0,g.jsx)(a.Z.Check,{onChange:function(){return H(e.id,e)},type:"switch",id:"switch".concat(e.id)},"INACTIVE"+n)})}):void 0},sortable:!0,wrap:!0},{name:"",selector:function(e,n){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{style:{margin:"10px"},children:[(0,g.jsx)(s.Hlf,{className:"edit-btn",onClick:function(){return function(e){L(e),I(!0)}(e)}}),(0,g.jsx)(l._51,{className:"delete-btn",onClick:function(){return n=e.id,void(!0===window.confirm("Delete")&&j(n));var n}})]})})},wrap:!0}],R={rows:{style:{fontSize:"16px",borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:x.kG.default.divider.default,borderLeftStyle:"solid",borderLeftWidth:"1px",borderLeftColor:x.kG.default.divider.default}},headCells:{style:{fontSize:"16px",borderRightStyle:"solid",borderRightWidth:"1px",borderTopColor:x.kG.default.divider.default,borderTopStyle:"solid",borderTopWidth:"1px",borderRightColor:x.kG.default.divider.default,borderLeftStyle:"solid",borderLeftWidth:"1px",borderLeftColor:x.kG.default.divider.default}},cells:{style:{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:x.kG.default.divider.default}}},P=(0,r.useState)(!0),W=(0,i.Z)(P,2),O=W[0],_=W[1];return(0,r.useEffect)((function(){var e=setTimeout((function(){_(!1)}),1e3);return function(){return clearTimeout(e)}}),[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.Ix,{}),(0,g.jsx)(u.default,{showFormAdd:B,setShowFormAdd:k,add:v}),(0,g.jsx)(h.default,{showForm:S,setShowForm:I,update:t,tx:V},V.id),(0,g.jsx)("div",{style:{textAlign:"center",marginBottom:"30px",marginTop:"20px"},children:(0,g.jsx)("h2",{children:A("Qu\u1ea3n l\xfd tuy\u1ebfn xe")})}),(0,g.jsxs)("div",{style:{margin:"20px",backgroundColor:"white",borderRadius:"5px"},className:"shadow",children:[(0,g.jsxs)("div",{style:{display:"flex"},children:[(0,g.jsx)("input",{id:"searchText",onKeyDown:function(e){var n;"Enter"===(n=e).key&&T(n.target.value)},className:"form-control",style:{marginTop:"20px",marginBottom:"20px",marginLeft:"25px",width:"30%"},type:"search",placeholder:A("T\xecm ki\u1ebfm theo t\xean b\u1ebfn xe \u0111i")}),(0,g.jsx)("div",{style:{marginTop:"20px",marginBottom:"20px",marginRight:"10px"},children:(0,g.jsxs)(o.Z,{onClick:function(){T(document.getElementById("searchText").value)},variant:"outline-success",children:[(0,g.jsx)(p.yD8,{}),A("T\xecm ki\u1ebfm")]})}),(0,g.jsx)(c.RDM,{style:{marginTop:"25px"},onClick:function(){return k(!0)},className:"add-btn"})]}),(0,g.jsx)("div",{style:{padding:"30px",overflow:"auto"},children:(0,g.jsx)(x.ZP,{columns:F,data:n.filter((function(e){return(0,m.RP)(e.benXeDi.tenBenXe.toLowerCase()).indexOf((0,m.RP)(Z.toLowerCase()))>=0})),pagination:!0,highlightOnHover:!0,pointerOnHover:!0,striped:!0,responsive:!0,customStyles:R,progressPending:O})})]})]})}},1101:function(e,n,t){t.r(n);var i=t(2791),r=t(5316),a=t(3063),o=t(3360),s=t(1020),c=t(4271),l=(t(2662),t(4385)),d=t(9230),u=t(3204),h=t(184);n.default=function(e){var n=e.showForm,t=e.setShowForm,x=e.update,m=e.tx,p=e.role,f=(0,l.Z)().xe,b=(0,c.Z)(p).benXe,g=(0,i.useContext)(s.I).account,v=(0,d.$G)().t,j=function(){t(!1)};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(r.Z,{show:n,onHide:j,children:[(0,h.jsx)(r.Z.Header,{closeButton:!0,children:(0,h.jsx)(r.Z.Title,{children:v("C\u1eadp nh\u1eadt tuy\u1ebfn xe")})}),(0,h.jsx)(r.Z.Body,{children:(0,h.jsxs)(a.Z,{children:[(0,h.jsxs)(a.Z.Group,{className:"mb-3",children:[(0,h.jsx)(a.Z.Label,{className:"text-center",children:v("B\u1ebfn xe \u0111i")}),(0,h.jsx)(a.Z.Select,{id:"benXeDi",children:b.map((function(e){if(m.benXeDi&&"ACTIVE"===e.trangThai)return e.tenBenXe===m.benXeDi.tenBenXe?(0,h.jsx)("option",{selected:!0,value:e.id,children:e.tenBenXe},"benXeDi".concat(e.id)):(0,h.jsx)("option",{value:e.id,children:e.tenBenXe},"benXeDi".concat(e.id))}))})]}),(0,h.jsxs)(a.Z.Group,{className:"mb-3",children:[(0,h.jsx)(a.Z.Label,{className:"text-center",children:v("B\u1ebfn xe \u0111\u1ebfn")}),(0,h.jsx)(a.Z.Select,{id:"benXeDen",children:b.map((function(e){if(m.benXeDen&&"ACTIVE"===e.trangThai)return e.tenBenXe===m.benXeDen.tenBenXe?(0,h.jsx)("option",{selected:!0,value:e.id,children:e.tenBenXe},"benXeDen".concat(e.id)):(0,h.jsx)("option",{value:e.id,children:e.tenBenXe},"benXeDen".concat(e.id))}))})]}),(0,h.jsxs)(a.Z.Group,{className:"mb-3",children:[(0,h.jsx)(a.Z.Label,{className:"text-center",children:v("Xe")}),(0,h.jsx)(a.Z.Select,{id:"xe",children:f.map((function(e){return"NHAXE"!==p?m.xe&&m.xe.bienSoXe===e.bienSoXe?(0,h.jsxs)("option",{selected:!0,value:e.bienSoXe,children:["Bi\u1ec3n s\u1ed1 xe: ",e.bienSoXe," - Nh\xe0 xe ",m.xe.nhaXe.tenNhaXe]},"xe".concat(e.id)):(0,h.jsxs)("option",{value:e.bienSoXe,children:["Bi\u1ec3n s\u1ed1 xe: ",e.bienSoXe," - Nh\xe0 xe ",e.nhaXe.tenNhaXe]},"xe".concat(e.id)):e.nhaXe.taiKhoan.username===g.username?m.xe&&m.xe.bienSoXe===e.bienSoXe?(0,h.jsxs)("option",{selected:!0,value:e.bienSoXe,children:[v("Bi\u1ec3n s\u1ed1 xe"),": ",e.bienSoXe," - ",v("Nh\xe0 xe"),": ",m.xe.nhaXe.tenNhaXe]},"xe".concat(e.id)):(0,h.jsxs)("option",{value:e.bienSoXe,children:[v("Bi\u1ec3n s\u1ed1 xe"),": ",e.bienSoXe," - ",v("Nh\xe0 xe"),": ",e.nhaXe.tenNhaXe]},"xe".concat(e.id)):void 0}))})]}),(0,h.jsxs)(a.Z.Group,{className:"mb-3",children:[(0,h.jsx)(a.Z.Label,{className:"text-center",children:v("Gi\u1edd kh\u1edfi h\xe0nh")}),(0,h.jsx)(a.Z.Control,{id:"gioDi",type:"time",defaultValue:m.gioDi})]}),(0,h.jsxs)(a.Z.Group,{className:"mb-3",children:[(0,h.jsxs)(a.Z.Label,{className:"text-center",children:[v("Ng\xe0y \u0111i")," (yy-mm-dd)"]}),(0,h.jsx)(a.Z.Control,{id:"ngayDi",type:"date",defaultValue:m.ngayDi})]}),(0,h.jsxs)(a.Z.Group,{className:"mb-3",children:[(0,h.jsx)(a.Z.Label,{className:"text-center",children:v("Th\u1eddi gian h\xe0nh tr\xecnh")}),(0,h.jsx)(a.Z.Control,{id:"thoiGianHanhTrinh",type:"text",defaultValue:m.thoiGianHanhTrinh})]}),(0,h.jsxs)(a.Z.Group,{className:"mb-3",children:[(0,h.jsx)(a.Z.Label,{className:"text-center",children:v("Gi\xe1 (\u0111\u01a1n v\u1ecb: \u0111\u1ed3ng)")}),(0,h.jsx)(a.Z.Control,{id:"giaVe",type:"number",min:1,defaultValue:m.giaVe})]}),(0,h.jsxs)(a.Z.Group,{className:"mb-3",children:[(0,h.jsx)(a.Z.Label,{className:"text-center",children:v("Tr\u1ea1ng th\xe1i")}),(0,h.jsx)("br",{}),(0,h.jsx)(a.Z.Check,{inline:!0,defaultChecked:!0,label:"on",name:"Group",type:"radio",id:"activeOn",value:"ACTIVE"}),(0,h.jsx)(a.Z.Check,{inline:!0,label:"off",name:"Group",type:"radio",id:"activeOff",value:"INACTIVE"})]})]})}),(0,h.jsxs)(r.Z.Footer,{children:[(0,h.jsx)(o.Z,{variant:"secondary",onClick:j,children:v("\u0110\xf3ng")}),(0,h.jsx)(o.Z,{variant:"primary",type:"button",onClick:function(e){var n=document.getElementById("benXeDi")[document.getElementById("benXeDi").selectedIndex].innerHTML,t=document.getElementById("benXeDen")[document.getElementById("benXeDen").selectedIndex].innerHTML,i=document.getElementById("xe").value,r=document.getElementById("ngayDi").value,a=document.getElementById("gioDi").value;console.log("gi\u1edd \u0111i "+a);for(var o=document.getElementById("thoiGianHanhTrinh").value,s=Number(document.getElementById("giaVe").value),c="",l=document.getElementsByName("Group"),d=0;d<l.length;d++)!0===l[d].checked&&(c=l[d].value);if(n&&t&&r&&a&&o&&s&&c&&i)if(t===n)(0,u.Z)(v("T\xean b\u1ebfn xe \u0111i v\xe0 t\xean b\u1ebfn xe \u0111\u1ebfn b\u1ecb tr\xf9ng nhau!!! Vui l\xf2ng ch\u1ecdn l\u1ea1i!!!"));else if(s<0)(0,u.Z)(v("Gi\xe1 v\xe9 ph\u1ea3i l\u1edbn h\u01a1n h\u01a1n 0!!!"));else{var h={tenBenXeDi:n,tenBenXeDen:t,ngayDi:r,gioDi:a,xe:f,thoiGianHanhTrinh:o,giaVe:s,trangThai:c,bienSoXe:i};console.log(h),x(m.id,h)}else(0,u.Z)()},children:v("C\u1eadp nh\u1eadt")})]})]})})}},8212:function(e,n,t){var i=t(4165),r=t(5861),a=t(9439),o=t(2791),s=t(1020),c=t(8429),l=t(7899),d=t(4586),u=t(7748);n.Z=function(){var e=(0,o.useState)([]),n=(0,a.Z)(e,2),t=n[0],h=n[1],x=(0,o.useContext)(s.I).token,m=(0,o.useCallback)((0,r.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.httpGetTuyenXe)();case 2:200==(n=e.sent).status?h(n.object):h([]);case 4:case"end":return e.stop()}}),e)}))),[]);(0,o.useEffect)((function(){m()}),[m]);var p=(0,o.useCallback)(function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.httpPostTuyenXe)(n,x).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)():(0,d.Z)(e.message)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,u.Z)();case 8:m();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),[m]),f=(0,o.useCallback)(function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.httpPutTuyenXe)(n,t,x).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)():(0,d.Z)(e.message)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,u.Z)();case 8:m();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n,t){return e.apply(this,arguments)}}(),[m]),b=(0,o.useCallback)(function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.httpDeleteTuyenXe)(n,x).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)():(0,d.Z)(e.message)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,u.Z)();case 8:m();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),[m]);return{tuyenXe:t,addTuyenXe:p,updateTuyenXe:f,deleteTuyenXe:b}}}}]);
//# sourceMappingURL=679.7110b9ad.chunk.js.map