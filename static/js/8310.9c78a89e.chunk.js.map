{"version":3,"file":"static/js/8310.9c78a89e.chunk.js","mappings":"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","sources":["layout/HeaderDashboard.js"],"sourcesContent":["import { memo, useContext, useEffect, useState } from \"react\";\r\nimport { Container, Image, Nav, Navbar } from \"react-bootstrap\";\r\nimport { Link, Navigate, useNavigate } from \"react-router-dom\";\r\nimport { MyContext } from \"../App\";\r\nimport flagEN from \"../assets/img/flagEN.jpg\";\r\nimport flagVN from \"../assets/img/flagVN.png\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { httpGetAdminById, httpGetNhaXeById } from \"../components/hooks/Request\";\r\n\r\nfunction HeaderDashboard(){\r\n\r\n\r\n    const token = useContext(MyContext).token;\r\n    const account = useContext(MyContext).account;\r\n    const setAccount = useContext(MyContext).setAccount;\r\n    const [thongTinTaiKhoan, setThongTinTaiKhoan] = useState([]);\r\n\r\n    const nav = useNavigate();\r\n    const {t} = useTranslation();\r\n    const logout =()=>{\r\n        localStorage.clear();\r\n        setAccount();\r\n        window.location.replace(window.location.origin + window.location.pathname);\r\n    }\r\n\r\n    function handleChangeLanguage(lg) {\r\n        let loc = window.location.href.split('?');\r\n        if(window.location.hash.length==0){\r\n            window.location.replace(loc[0] + \"/?lng=\" + lg);\r\n            window.location.reload();\r\n        } else {\r\n            window.location.replace(loc[0] + \"?lng=\" + lg);\r\n            window.location.reload();\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(account){\r\n            if(account.role===\"NHAXE\"){\r\n                httpGetNhaXeById(account.id, token).then(data=>{\r\n                    if(data.object){\r\n                        setThongTinTaiKhoan(data.object);\r\n                    }\r\n                })\r\n            } else {\r\n                httpGetAdminById(account.id, token).then(data=>{\r\n                    if(data.object){\r\n                        setThongTinTaiKhoan(data.object);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    },[])\r\n\r\n    console.log(thongTinTaiKhoan);\r\n\r\n    return(\r\n        <>\r\n\r\n            {/* Navbar Start*/}\r\n            <Navbar style={{height: \"75px\", background:\"#181818\"}}>\r\n            <Container>\r\n                <Navbar.Collapse className=\"justify-content-end\">\r\n\r\n                <img src={flagVN} height={30} width={60} style={{margin: \"10px\", cursor: \"pointer\"}} onClick={()=>handleChangeLanguage(\"vi\")}></img>\r\n                <img src={flagEN} height={30} width={60} style={{margin: \"10px\", cursor: \"pointer\"}} onClick={()=>handleChangeLanguage(\"en\")}></img>\r\n\r\n                    {\r\n                        (()=>{\r\n                            if(token&&account){\r\n                                return(\r\n                                    <>\r\n                                    <div style={{marginRight:\"10px\", marginLeft:\"10px\"}}>\r\n                                        <a class=\"text-white pl-2\">\r\n                                            {\r\n                                                (()=>{\r\n                                                    if(thongTinTaiKhoan.tenNhaXe!=null){\r\n                                                        return <Image style={{objectFit: \"cover\"}} height={30} width={30} src={thongTinTaiKhoan.picture} roundedCircle />\r\n                                                    }else{\r\n                                                        return <Image style={{objectFit: \"cover\"}} height={30} width={30} src=\"https://firebasestorage.googleapis.com/v0/b/uploadimage-83b65.appspot.com/o/images%2Fdefault_avatar.png989f063f-864d-497f-aaee-0ad210b3b5e2?alt=media&token=2d270ccf-7dec-4403-973d-6a2109557688\" roundedCircle />\r\n                                                    }\r\n                                                })()\r\n                                            }\r\n                                        </a>\r\n                                    </div>\r\n\r\n                                    {\r\n                                        (()=>{\r\n                                            if(thongTinTaiKhoan.tenNhaXe!=null){\r\n                                                return(\r\n                                                    <Link to={\"thong-tin-tai-khoan\"}>{thongTinTaiKhoan.tenNhaXe}</Link>\r\n                                                );\r\n                                            }else{\r\n                                                return(\r\n                                                    <Link to={\"thong-tin-tai-khoan\"}>{thongTinTaiKhoan.name}</Link>\r\n                                                );\r\n                                            }\r\n                                        })()\r\n                                    }\r\n\r\n                                    <div style={{marginRight:\"10px\", marginLeft:\"20px\"}}>\r\n                                        <a class=\"text-white pl-2\">\r\n                                            <i class=\"fas fa-sign-out-alt\"></i>\r\n                                        </a>\r\n                                    </div>\r\n                                        <a onClick={logout} className=\"text-blue pl-2\" style={{marginRight: \"10px\", cursor: \"pointer\"}} >{t('Đăng xuất')}</a>\r\n                                    </>\r\n                                )\r\n                            }else{\r\n                                return(\r\n                                    <>\r\n                                    <div style={{marginRight:\"10px\"}}>\r\n                                        <a class=\"text-white pl-2\" href=\"\">\r\n                                            <i class=\"fa fa-user\"></i>\r\n                                        </a>\r\n                                    </div>\r\n                                        <a href=\"/login\">Login</a>\r\n\r\n                                    <div style={{marginRight:\"10px\", marginLeft:\"10px\"}}>\r\n                                        <a class=\"text-white pl-2\" href=\"\">\r\n                                            <i class=\"fa fa-user-plus\"></i>\r\n                                        </a>\r\n                                    </div>\r\n                                        <a href=\"/sign-up\">Sign up</a>\r\n\r\n                                    <div style={{marginRight:\"10px\", marginLeft:\"10px\"}}>\r\n                                        <a class=\"text-white pl-2\" href=\"\">\r\n                                            <i class=\"fas fa-sign-out-alt\"></i>\r\n                                        </a>\r\n                                        <a>Log out</a>\r\n                                    </div>\r\n                                    </>\r\n                                )\r\n                            }\r\n                        })()\r\n                    }\r\n                </Navbar.Collapse>\r\n            </Container>\r\n            </Navbar>\r\n            {/* Navbar End*/}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(HeaderDashboard);"],"names":["HeaderDashboard","token","useContext","MyContext","account","setAccount","useState","thongTinTaiKhoan","setThongTinTaiKhoan","t","useNavigate","useTranslation","logout","localStorage","clear","window","location","replace","origin","pathname","handleChangeLanguage","lg","loc","href","split","hash","length","reload","useEffect","role","httpGetNhaXeById","id","then","data","object","httpGetAdminById","console","log","style","height","background","className","src","flagVN","width","margin","cursor","onClick","flagEN","marginRight","marginLeft","class","tenNhaXe","objectFit","picture","roundedCircle","to","name","memo"],"sourceRoot":""}