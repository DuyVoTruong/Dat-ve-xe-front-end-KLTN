"use strict";(self.webpackChunkdat_ve_xe=self.webpackChunkdat_ve_xe||[]).push([[8970],{7748:function(e,n,t){var i=t(9085),r=t(6906);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.jO;i.Am.fail(e,{position:i.Am.POSITION.TOP_RIGHT})}},8212:function(e,n,t){var i=t(4165),r=t(5861),a=t(9439),s=t(2791),c=t(1469),o=t(8429),h=t(7899),u=t(4586),l=t(7748),d=t(9230);n.Z=function(){var e=(0,s.useState)([]),n=(0,a.Z)(e,2),t=n[0],x=n[1],f=(0,s.useContext)(c.I).token,p=(0,s.useContext)(c.I).account,m=(0,d.$G)().t,j=(0,s.useCallback)((0,r.Z)((0,i.Z)().mark((function e(){var n,t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=15;break}if("USER"!=p.role){e.next=8;break}return e.next=4,(0,o.httpGetTuyenXe)();case 4:200==(n=e.sent).status?x(n.object):x([]),e.next=13;break;case 8:if("ADMIN"!=p.role){e.next=13;break}return e.next=11,(0,o.httpGetTuyenXeAdmin)(f);case 11:200==(t=e.sent).status?x(t.object):x([]);case 13:e.next=19;break;case 15:return e.next=17,(0,o.httpGetTuyenXe)();case 17:200==(r=e.sent).status?x(r.object):x([]);case 19:case"end":return e.stop()}}),e)}))),[]);(0,s.useEffect)((function(){j()}),[j]);var g=(0,s.useCallback)(function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.httpPostTuyenXe)(n,f).then((function(e){return e.json()})).then((function(e){200==e.status?(0,h.Z)(m("Th\xe0nh c\xf4ng")):(0,u.Z)(m("Th\u1ea5t b\u1ea1i"))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,l.Z)(m("Th\u1ea5t b\u1ea1i"));case 8:j();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),[j]),v=(0,s.useCallback)(function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.httpPutTuyenXe)(n,t,f).then((function(e){return e.json()})).then((function(e){200==e.status?(0,h.Z)(m("Th\xe0nh c\xf4ng")):(0,u.Z)(m("Th\u1ea5t b\u1ea1i"))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,l.Z)(m("Th\u1ea5t b\u1ea1i"));case 8:j();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n,t){return e.apply(this,arguments)}}(),[j]),Z=(0,s.useCallback)(function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.httpDeleteTuyenXe)(n,f).then((function(e){return e.json()})).then((function(e){200==e.status?(0,h.Z)(m("Th\xe0nh c\xf4ng")):(0,u.Z)(m("Th\u1ea5t b\u1ea1i"))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,l.Z)(m("Th\u1ea5t b\u1ea1i"));case 8:j();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),[j]);return{tuyenXe:t,addTuyenXe:g,updateTuyenXe:v,deleteTuyenXe:Z}}},9834:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var i=t(9439),r=t(2791),a=t(9743),s=t(2677),c=t(7022),o=t(9140),h=t(3360),u=t(6766),l=(t(5141),t(7689)),d=t(8212),x=t(39),f=(t(665),t(1469)),p=t.p+"static/media/anh-trang-chu.87c671789271a90d3b47.jpg",m=(t.p,t(1457)),j=t(9230),g=t(4651),v=t(2062),Z=t.n(v),b=t(9085),y=t(184);var T=function(){(0,r.useContext)(f.I).token;var e=(0,r.useContext)(f.I).account,n=(0,l.TH)(),t=new URLSearchParams(n.search),v=(0,r.useState)([]),T=(0,i.Z)(v,2),k=T[0],C=T[1],D=(0,d.Z)().tuyenXe,S=(0,r.useState)([]),w=(0,i.Z)(S,2),X=w[0],N=w[1],I=(0,r.useState)(""),B=(0,i.Z)(I,2),O=B[0],P=B[1],G=(0,r.useState)(""),A=(0,i.Z)(G,2),F=A[0],L=A[1],_=(0,r.useState)(""),E=(0,i.Z)(_,2),M=E[0],H=E[1],R=(0,r.useState)([]),Y=(0,i.Z)(R,2),U=Y[0],V=Y[1],$=new Date,q=(0,r.useState)([]),z=(0,i.Z)(q,2),Q=z[0],W=z[1],J=function(e){var n;if(e.getDate()<10||e.getMonth()<9){var t=e.getDate(),i=e.getMonth()+1;t<10&&(t="0"+t),i<9&&(i="0"+i),n=e.getFullYear()+"-"+i+"-"+t}else n=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();return n},K=J($),ee=(0,l.s0)();(0,r.useEffect)((function(){(0,x.QY)().then((function(e){if(e){C(e);for(var n=[],t=0;t<e.length;t++)n.indexOf(e[t].tinhThanh)<0&&n.push(e[t].tinhThanh);V(n)}})),(0,x.Sy)().then((function(e){e&&N(e)})),fetch("http://localhost:8081/api/thongke/nguoidung/sao-trung-binh/all").then((function(e){return e.json()})).then((function(e){e.object&&W(e.object)}))}),[]),(0,r.useEffect)((function(){var e=t.get("trang-thai");t.get("ma-thanh-toan");"success"==e?Z()({title:te("Thanh to\xe1n th\xe0nh c\xf4ng"),text:"",icon:"success",button:"Ok"}):"failed"!=e&&"invalid signature"!=e||Z()({title:te("Thanh to\xe1n th\u1ea5t b\u1ea1i"),text:"",icon:"error",button:"Ok"})}),[]);var ne={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:4},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},te=(0,j.$G)().t;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(b.Ix,{}),(0,y.jsx)("img",{src:p,style:{height:"400px",width:"100%",display:"inline-block",objectFit:"cover"}}),(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",top:"-375px",width:"100%",height:"350px"},children:(0,y.jsx)("div",{className:"search-form-container shadow",children:(0,y.jsxs)(a.Z,{children:[(0,y.jsx)(s.Z,{md:10,children:(0,y.jsx)("div",{className:"search-form-border",children:(0,y.jsx)("div",{style:{margin:"0px 10px"},children:(0,y.jsxs)(a.Z,{children:[(0,y.jsxs)(s.Z,{md:4,children:[(0,y.jsx)("div",{className:"search-form-label",children:te("\u0110i\u1ec3m \u0111i")}),(0,y.jsxs)("select",{className:"search-form-select",id:"DiemDi",onChange:function(e){return L(e.target.value)},children:[U.map((function(e){return e!==F?(0,y.jsx)("option",{value:e,children:e},"ttdi".concat(e)):(0,y.jsx)("option",{selected:!0,value:e,children:e},"ttdi".concat(e))})),(0,y.jsx)("option",{hidden:!0,children:te("Ch\u1ecdn \u0111i\u1ec3m \u0111i")})]})]}),(0,y.jsx)(s.Z,{md:1,children:(0,y.jsx)("div",{className:"search-form-line",children:(0,y.jsx)("div",{className:"search-form-line-icon",onClick:function(e){e.preventDefault();var n=F;L(M),H(n)},children:(0,y.jsx)(g.TFW,{})})})}),(0,y.jsxs)(s.Z,{md:4,children:[(0,y.jsx)("div",{className:"search-form-label",children:te("\u0110i\u1ec3m \u0111\u1ebfn")}),(0,y.jsxs)("select",{className:"search-form-select",id:"DiemDen",onChange:function(e){return H(e.target.value)},children:[U.map((function(e){return e!==M?(0,y.jsx)("option",{value:e,children:e},"ttden".concat(e)):(0,y.jsx)("option",{selected:!0,value:e,children:e},"ttden".concat(e))})),(0,y.jsx)("option",{hidden:!0,children:te("Ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")})]})]}),(0,y.jsx)(s.Z,{md:3,children:(0,y.jsx)("input",{style:{margin:"20px 0px"},class:"form-control",type:"date",required:!0,defaultValue:O||J($),onChange:function(e){return P(e.target.value)},min:(new Date).toISOString().split("T")[0]})})]})})})}),(0,y.jsx)(s.Z,{md:2,children:(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,y.jsx)("button",{className:"search-form-button",onClick:function(){ee("/tuyen-xe/?diemDi=".concat(F,"&diemDen=").concat(M,"&date=").concat(O))},children:te("T\xecm ki\u1ebfm")})})})]})})}),(0,y.jsxs)(c.Z,{style:{position:"relative",top:"-300px",marginBottom:"-350px"},children:[(0,y.jsx)("h2",{style:{marginLeft:"30px"},children:te("C\xe1c tuy\u1ebfn xe trong ng\xe0y")}),(0,y.jsx)(u.default,{infinite:!0,autoPlay:!1,autoPlaySpeed:2e3,responsive:ne,children:D.map((function(n){if(n.ngayDi.indexOf(K)>=0)return(0,y.jsx)(o.Z,{onClick:function(){e?function(e){ee("/dat-ve-xe/"+e.id)}(n):Z()({title:te("B\u1ea1n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 \u0111\u1eb7t v\xe9"),text:"",icon:"info",button:"Ok"})},style:{margin:"2rem"},className:"shadow card-transform",children:(0,y.jsxs)(o.Z.Body,{children:[function(){var e="";return n.benXeDi&&(e=e+n.benXeDi.tenBenXe+" => "),n.benXeDen&&(e+=n.benXeDen.tenBenXe),(0,y.jsx)(o.Z.Title,{children:e},n.id)}(),(0,y.jsxs)(o.Z.Text,{children:[te("Ng\xe0y \u0111i"),": ",n.ngayDi]}),(0,y.jsxs)(o.Z.Text,{children:[te("Th\u1eddi gian h\xe0nh tr\xecnh"),": ",n.thoiGianHanhTrinh]}),(0,y.jsxs)(o.Z.Text,{children:[te("Gi\xe1"),": ",n.giaVe]})]})})}))}),(0,y.jsx)("h2",{style:{marginTop:"50px",marginLeft:"30px"},children:te("Danh s\xe1ch c\xe1c \u0111i\u1ec3m \u0111\u1ebfn")}),(0,y.jsx)(u.default,{responsive:ne,infinite:!0,autoPlaySpeed:1500,autoPlay:!1,children:k.map((function(e){return(0,y.jsxs)(o.Z,{onClick:function(){return function(e){ee("/lich-trinh?diemDen="+e)}(e.tinhThanh)},style:{margin:"1rem"},className:"shadow card-transform",children:[(0,y.jsx)(o.Z.Img,{height:"100vh",variant:"top",src:m}),(0,y.jsxs)(o.Z.Body,{children:[(0,y.jsx)(o.Z.Title,{children:e.tenBenXe}),(0,y.jsx)(o.Z.Text,{children:e.tinhThanh})]})]})}))}),(0,y.jsx)("h2",{style:{marginTop:"50px",marginLeft:"30px"},children:te("Danh s\xe1ch c\xe1c nh\xe0 xe")}),(0,y.jsx)(u.default,{responsive:ne,infinite:!0,autoPlaySpeed:1500,autoPlay:!1,children:X.map((function(n){return(0,y.jsxs)(o.Z,{style:{margin:"1rem"},className:"shadow card-transform",children:[(0,y.jsx)(o.Z.Img,{height:"100vh",variant:"top",src:n.picture}),(0,y.jsxs)(o.Z.Body,{children:[(0,y.jsx)(o.Z.Title,{children:n.tenNhaXe}),(0,y.jsx)("span",{style:{fontSize:"14px"},children:[1,2,3,4,5].map((function(e,t){var i;return Q.map((function(e){e.id==n.id&&(i=e.saoTrungBinh)})),function(e,n){return e<=n?(0,y.jsx)("span",{class:"fa fa-star checkedStar"}):(0,y.jsx)("span",{class:"fa fa-star"})}(e,i)}))}),(0,y.jsxs)(o.Z.Text,{children:[te("S\u0110T"),": ",n.sdt]}),(0,y.jsxs)(a.Z,{children:[(0,y.jsx)(s.Z,{xs:6,sm:12,md:6,children:(0,y.jsx)(h.Z,{style:{marginBottom:"8px",backgroundColor:"#0000CD",border:"none"},onClick:function(){return e=n.id,void ee("/nha-xe-chi-tiet/"+e);var e},variant:"primary",children:te("Chi ti\u1ebft")})}),(0,y.jsx)(s.Z,{xs:6,sm:12,md:6,children:(0,y.jsx)(h.Z,{style:{marginBottom:"8px",backgroundColor:"#20B2AA",border:"none"},onClick:function(){var t;e?(t=n.id,ee("/nha-xe-danh-gia/"+t)):Z()({title:te("B\u1ea1n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 \u0111\xe1nh gi\xe1"),text:"",icon:"info",button:"Ok"})},variant:"primary",children:te("\u0110\xe1nh gi\xe1")})})]})]})]})}))})]})]})}},665:function(){}}]);
//# sourceMappingURL=8970.7e5cdbf1.chunk.js.map