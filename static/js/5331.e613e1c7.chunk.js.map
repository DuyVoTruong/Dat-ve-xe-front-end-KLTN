{"version":3,"file":"static/js/5331.e613e1c7.chunk.js","mappings":"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","sources":["components/web/Login.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { Button, Card, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { MyContext } from \"../../App\";\r\nimport { httpLogin } from \"../hooks/Request\";\r\nimport { FcGoogle } from \"react-icons/fc\";\r\nimport backgroundLogin from \"../../assets/img/background-login2.jpg\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nfunction Login() {\r\n\r\n  const setToken = useContext(MyContext).setToken;\r\n  const [role, setRole] = useState(\"USER\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const {t} = useTranslation();\r\n\r\n  const nav = useNavigate();\r\n  const login = async(e)=>{\r\n    e.preventDefault();\r\n    let accountLogin ={\r\n      username,password\r\n    }\r\n    httpLogin(accountLogin).then(res=>res.json()).then(data=>{\r\n      if(data.jwtToken){\r\n        const userToken = {\r\n          jwtToken: data.jwtToken,\r\n          account: {\r\n            id: data.id,\r\n            username: data.username,\r\n            role: data.role\r\n          }\r\n        }\r\n        setToken(userToken);//lưu token\r\n        window.alert(\"Đăng nhập thành công!!!\")\r\n        if(data.role===\"USER\"){\r\n          nav(\"/home\")\r\n        }else if(data.role===\"ADMIN\"){\r\n          nav(\"/admin/home\")\r\n        }else if(data.role===\"NHAXE\"){\r\n          nav(\"/nha-xe/home\")\r\n        }\r\n      }\r\n      else if(data.status==401){\r\n        window.alert(\"Username hoặc password không chính xác!!!\")\r\n      }\r\n      else{\r\n        window.alert(data.message)\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <img src={backgroundLogin} style={{width: '100vw', height: '100vh', objectFit: \"cover\", filter: \"brightness(60%)\"}}></img>\r\n      <div style={{position: \"absolute\", top: \"0px\", left: \"0px\", width: '100vw', height: '100vh'}}>\r\n      <Container>\r\n        <Row className=\"d-flex justify-content-center align-items-center\" style={{height: \"100vh\"}}>\r\n          <Col md={8} lg={6} xs={12}>\r\n          <div style={{border: \"solid 10px blue\", background:\"blue\", borderRadius: \"8px 8px 0px 0px\"}}></div>\r\n            <Card className=\"shadow\" style={{borderRadius: \"0px 0px 8px 8px\"}}>\r\n              <Card.Body>\r\n                <div className=\"mb-3 mt-md-4\">\r\n                  <h2 className=\"fw-bold mb-2 text-uppercase \">WebTour</h2>\r\n                  <p className=\" mb-5\">{t(\"vuilongnhapusernamevapasswordcuaban\")}</p>\r\n                  <div className=\"mb-3\">\r\n                    <Form onSubmit={login}>\r\n                      <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                        <Form.Label className=\"text-center\">\r\n                          Username\r\n                        </Form.Label>\r\n                        <Form.Control onChange={(e)=>setUsername(e.target.value)} type=\"text\" placeholder={t(\"nhapusername\")}/>\r\n                      </Form.Group>\r\n\r\n                      <Form.Group\r\n                        className=\"mb-3\"\r\n                        controlId=\"formBasicPassword\"\r\n                      >\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control onChange={(e)=>setPassword(e.target.value)} type=\"password\" placeholder={t(\"nhappassword\")} />\r\n                      </Form.Group>\r\n\r\n                      {/*<Form.Group\r\n                        className=\"mb-3\"\r\n                      >\r\n                        <Form.Label>Vai trò</Form.Label>\r\n                        <Form.Select style={{display:\"block\"}} onChange={(e)=>setRole(e.target.value)}>\r\n                              <option defaultChecked value={\"USER\"}>Người dùng</option>\r\n                              <option value={\"NHAXE\"}>Nhà xe</option>\r\n                              <option value={\"ADMIN\"}>Admin</option>\r\n                        </Form.Select>\r\n                      </Form.Group>*/}\r\n\r\n                      {/*\r\n                      <Form.Group\r\n                        className=\"mb-3\"\r\n                        controlId=\"formBasicCheckbox\"\r\n                      >\r\n                        <p className=\"small\">\r\n                          <a className=\"text-primary\" href=\"#!\">\r\n                            Forgot password?\r\n                          </a>\r\n                        </p>\r\n                    </Form.Group>*/}\r\n                      <div className=\"d-grid\">\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                          {t(\"login\")}\r\n                        </Button>\r\n                      </div>\r\n                    </Form>\r\n                    <div className=\"mt-3\">\r\n                      <p className=\"mb-0  text-center\">\r\n                        {t(\"khongcotaikhoan\")}{\" \"}\r\n                        <a href=\"/sign-up\" className=\"text-primary fw-bold\">\r\n                          <Link to=\"/sign-up\">Sign Up</Link>\r\n                        </a>\r\n                      </p>\r\n                      <p className=\"mb-2  text-center\">\r\n                        {t(\"or\")}\r\n                      </p>\r\n                      <p className=\"mb-0  text-center\">\r\n                        <Button style={{backgroundColor: \"white\", borderColor: \"red\"}}><FcGoogle size={35}></FcGoogle><span style={{color:\"black\", marginLeft: \"10px\"}}>Login with google</span></Button>\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"mt-3\">\r\n                      <p className=\"mb-0  text-center\">\r\n                        <a lassName=\"text-primary fw-bold\">\r\n                          <Link to=\"/\">{t(\"dentrangchu\")}</Link>\r\n                        </a>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;"],"names":["setToken","useContext","MyContext","useState","username","setUsername","password","setPassword","t","useTranslation","nav","useNavigate","login","e","preventDefault","accountLogin","httpLogin","then","res","json","data","jwtToken","userToken","account","id","role","window","alert","status","message","src","backgroundLogin","style","width","height","objectFit","filter","position","top","left","Container","Row","className","Col","md","lg","xs","border","background","borderRadius","Card","Form","onSubmit","controlId","onChange","target","value","type","placeholder","Button","variant","href","to","backgroundColor","borderColor","size","color","marginLeft","lassName"],"sourceRoot":""}