"use strict";(self.webpackChunkdat_ve_xe=self.webpackChunkdat_ve_xe||[]).push([[7135,5316,5121],{7135:function(e,n,t){t.r(n);var r=t(2791),a=t(5316),o=t(3063),c=t(3360),s=(t(9743),t(2677),t(9140),t(1469)),i=t(2741),u=t(2662),l=t(9230),d=t(3204),h=t(184);n.default=function(e){var n=e.showForm,t=e.setShowForm,f=e.add,p=(0,r.useContext)(s.I).account,Z=(0,u.Z)(p.role).nhaXe,x=(0,i.Z)().loaiXe,b=(0,l.$G)().t,m=function(){t(!1)},v=function(e){var n;e.preventDefault(),"NHAXE"===p.role?Z.map((function(e){e.id==p.id&&(n=e.tenNhaXe)})):n=document.getElementById("formSelectTenNhaXe").value;var t=document.getElementById("formBienSoXe").value,r=document.getElementById("formSelectTenLoaiXe").value;t&&r&&n?f({bienSoXe:t,tenLoaiXe:r,tenNhaXe:n}):(0,d.Z)()};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(a.Z,{show:n,onHide:m,children:[(0,h.jsx)(a.Z.Header,{closeButton:!0,children:(0,h.jsx)(a.Z.Title,{children:b("Th\xeam xe")})}),(0,h.jsx)(a.Z.Body,{children:(0,h.jsxs)(o.Z,{children:[(0,h.jsxs)(o.Z.Group,{className:"mb-3",controlId:"formBienSoXe",children:[(0,h.jsx)(o.Z.Label,{className:"text-center",children:b("Bi\u1ec3n s\u1ed1 xe")}),(0,h.jsx)(o.Z.Control,{type:"text",placeholder:b("Nh\u1eadp bi\u1ec3n s\u1ed1 xe")})]}),function(){if("NHAXE"!==p.role)return(0,h.jsxs)(o.Z.Group,{className:"mb-3",controlId:"formTenNhaXe",children:[(0,h.jsx)(o.Z.Label,{className:"text-center",children:b("Nh\xe0 xe")}),(0,h.jsx)(o.Z.Select,{id:"formSelectTenNhaXe",children:Z.map((function(e,n){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("option",{children:e.tenNhaXe},n)})}))})]})}(),(0,h.jsxs)(o.Z.Group,{className:"mb-3",controlId:"formTenLoaiXe",children:[(0,h.jsx)(o.Z.Label,{className:"text-center",children:b("Lo\u1ea1i xe")}),(0,h.jsx)(o.Z.Select,{id:"formSelectTenLoaiXe",children:x.map((function(e,n){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("option",{children:e.tenLoaiXe},n)})}))})]})]})}),(0,h.jsxs)(a.Z.Footer,{children:[(0,h.jsx)(c.Z,{variant:"secondary",onClick:m,children:b("\u0110\xf3ng")}),(0,h.jsx)(c.Z,{variant:"primary",type:"button",onClick:v,children:b("Th\xeam")})]})]})})}},7748:function(e,n,t){var r=t(9085),a=t(6906);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.jO;r.Am.fail(e,{position:r.Am.POSITION.TOP_RIGHT})}},2741:function(e,n,t){var r=t(4165),a=t(5861),o=t(9439),c=t(2791),s=t(1469),i=t(8429),u=t(3204),l=t(7899),d=t(4586),h=t(7748),f=t(9230);n.Z=function(){var e=(0,c.useState)([]),n=(0,o.Z)(e,2),t=n[0],p=n[1],Z=(0,c.useContext)(s.I).token,x=(0,f.$G)().t,b=(0,c.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.httpGetLoaiXe)(Z);case 2:200==(n=e.sent).status?p(n.object):p([]);case 4:case"end":return e.stop()}}),e)}))),[]);(0,c.useEffect)((function(){b()}),[b]);var m=(0,c.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.tenLoaiXe&&n.sucChua){e.next=4;break}(0,u.Z)(),e.next=12;break;case 4:return e.prev=4,e.next=7,(0,i.httpPostLoaiXe)(n,Z).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)(x("Th\xe0nh c\xf4ng")):(0,d.Z)(x("Th\u1ea5t b\u1ea1i"))}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),(0,h.Z)(x("Th\u1ea5t b\u1ea1i"));case 12:b();case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n){return e.apply(this,arguments)}}(),[b]),v=(0,c.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tenLoaiXe&&t.sucChua){e.next=4;break}(0,u.Z)(),e.next=12;break;case 4:return e.prev=4,e.next=7,(0,i.httpPutLoaiXe)(n,t,Z).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)(x("Th\xe0nh c\xf4ng")):(0,d.Z)(x("Th\u1ea5t b\u1ea1i"))}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),(0,h.Z)(x("Th\u1ea5t b\u1ea1i"));case 12:b();case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n,t){return e.apply(this,arguments)}}(),[b]),k=(0,c.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.httpDeleteLoaiXe)(n,Z).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)(x("Th\xe0nh c\xf4ng")):(0,d.Z)(x("Th\u1ea5t b\u1ea1i"))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,h.Z)(x("Th\u1ea5t b\u1ea1i"));case 8:b();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),[b]);return{loaiXe:t,addLoaiXe:m,updateLoaiXe:v,deleteLoaiXe:k}}},2662:function(e,n,t){var r=t(4165),a=t(5861),o=t(9439),c=t(2791),s=t(1469),i=t(8429),u=t(3204),l=t(7899),d=t(4586),h=t(7748),f=t(9230);n.Z=function(){var e=(0,c.useState)([]),n=(0,o.Z)(e,2),t=n[0],p=n[1],Z=(0,c.useContext)(s.I).token,x=(0,c.useContext)(s.I).account,b=(0,f.$G)().t,m=(0,c.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.httpGetNhaXe)(Z);case 2:200==(n=e.sent).status?p(n.object):p([]);case 4:case"end":return e.stop()}}),e)}))),[]),v=(0,c.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.httpGetNhaXeUserAll)(Z);case 2:200==(n=e.sent).status?p(n.object):p([]);case 4:case"end":return e.stop()}}),e)}))),[]);(0,c.useEffect)((function(){x?"USER"===x.role||"NHAXE"===x.role?v():m():v()}),[m,v]);var k=(0,c.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.tenNhaXe&&n.diaChi){e.next=4;break}(0,u.Z)(),e.next=12;break;case 4:return e.prev=4,e.next=7,(0,i.httpPostNhaXe)(n,Z).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)(b("Th\xe0nh c\xf4ng")):(0,d.Z)(b("Th\u1ea5t b\u1ea1i"))}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),(0,h.Z)(b("Th\u1ea5t b\u1ea1i"));case 12:m();case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n){return e.apply(this,arguments)}}(),[m]),N=(0,c.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tenNhaXe&&t.diaChi){e.next=4;break}(0,u.Z)(),e.next=12;break;case 4:return e.prev=4,e.next=7,(0,i.httpPutNhaXe)(n,t,Z).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)(b("Th\xe0nh c\xf4ng")):e.message?(0,d.Z)(b("Th\u1eaft b\u1ea1i")):alert("B\u1ea1n ph\u1ea3i \u0111\u0103ng nh\u1eadp l\u1ea1i!!!")}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),(0,h.Z)(b("Th\u1ea5t b\u1ea1i"));case 12:m();case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n,t){return e.apply(this,arguments)}}(),[m]),g=(0,c.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.httpDeleteNhaXe)(n,Z).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)(b("Th\xe0nh c\xf4ng")):(0,d.Z)(b("Th\u1ea5t b\u1ea1i"))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,h.Z)(b("Th\u1ea5t b\u1ea1i"));case 8:m();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),[m]),w=(0,c.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.httpPutTaiKhoan)(n,t,Z).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)(b("Th\xe0nh c\xf4ng")):(0,d.Z)(b("Th\u1ea5t b\u1ea1i"))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,h.Z)(b("Th\u1ea5t b\u1ea1i"));case 8:m();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n,t){return e.apply(this,arguments)}}(),[m]),T=(0,c.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.username&&n.password){e.next=4;break}(0,u.Z)(),e.next=12;break;case 4:return e.prev=4,e.next=7,(0,i.httpPostSignUp)(n,Z).then((function(e){return e.json()})).then((function(e){200==e.status?(0,l.Z)(b("Th\xe0nh c\xf4ng")):(0,d.Z)(b("Th\u1ea5t b\u1ea1i"))}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),(0,h.Z)(b("Th\u1ea5t b\u1ea1i"));case 12:m();case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n){return e.apply(this,arguments)}}(),[m]);return{nhaXe:t,addNhaXe:k,updateNhaXe:N,deleteNhaXe:g,updateTaiKhoan:w,signUp:T}}},7731:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(2791);function a(){return(0,r.useState)(null)}},5316:function(e,n,t){t.d(n,{Z:function(){return U}});var r,a=t(9439),o=t(5987),c=t(1413),s=t(1694),i=t.n(s),u=t(3070),l=t(7357),d=t(8376),h=t(6382);function f(e){if((!r&&0!==r||e)&&l.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),r=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return r}var p=t(7731),Z=t(9007),x=t(3201),b=t(1683),m=t(3690),v=t(2791),k=t(6137),N=t(5592),g=t(2709),w=t(6543),T=(0,w.Z)("modal-body"),y=t(9820),j=t(162),C=t(184),X=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],E=v.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.contentClassName,s=e.centered,u=e.size,l=e.fullscreen,d=e.children,h=e.scrollable,f=(0,o.Z)(e,X);t=(0,j.vE)(t,"modal");var p="".concat(t,"-dialog"),Z="string"===typeof l?"".concat(t,"-fullscreen-").concat(l):"".concat(t,"-fullscreen");return(0,C.jsx)("div",(0,c.Z)((0,c.Z)({},f),{},{ref:n,className:i()(p,r,u&&"".concat(t,"-").concat(u),s&&"".concat(p,"-centered"),h&&"".concat(p,"-scrollable"),l&&Z),children:(0,C.jsx)("div",{className:i()("".concat(t,"-content"),a),children:d})}))}));E.displayName="ModalDialog";var S=E,F=(0,w.Z)("modal-footer"),L=t(8024),I=["bsPrefix","className"],P=v.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=(0,o.Z)(e,I);return t=(0,j.vE)(t,"modal-header"),(0,C.jsx)(L.Z,(0,c.Z)((0,c.Z)({ref:n},a),{},{className:i()(r,t)}))}));P.displayName="ModalHeader",P.defaultProps={closeLabel:"Close",closeButton:!1};var R=P,A=(0,t(7472).Z)("h4"),D=(0,w.Z)("modal-title",{Component:A}),H=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],B={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:S};function O(e){return(0,C.jsx)(g.Z,(0,c.Z)((0,c.Z)({},e),{},{timeout:null}))}function G(e){return(0,C.jsx)(g.Z,(0,c.Z)((0,c.Z)({},e),{},{timeout:null}))}var _=v.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,s=e.style,g=e.dialogClassName,w=e.contentClassName,T=e.children,X=e.dialogAs,E=e["aria-labelledby"],S=e["aria-describedby"],F=e["aria-label"],L=e.show,I=e.animation,P=e.backdrop,R=e.keyboard,A=e.onEscapeKeyDown,D=e.onShow,B=e.onHide,_=e.container,U=e.autoFocus,K=e.enforceFocus,M=e.restoreFocus,z=e.restoreFocusOptions,W=e.onEntered,$=e.onExit,q=e.onExiting,J=e.onEnter,Q=e.onEntering,V=e.onExited,Y=e.backdropClassName,ee=e.manager,ne=(0,o.Z)(e,H),te=(0,v.useState)({}),re=(0,a.Z)(te,2),ae=re[0],oe=re[1],ce=(0,v.useState)(!1),se=(0,a.Z)(ce,2),ie=se[0],ue=se[1],le=(0,v.useRef)(!1),de=(0,v.useRef)(!1),he=(0,v.useRef)(null),fe=(0,p.Z)(),pe=(0,a.Z)(fe,2),Ze=pe[0],xe=pe[1],be=(0,x.Z)(n,xe),me=(0,Z.Z)(B),ve=(0,j.SC)();t=(0,j.vE)(t,"modal");var ke=(0,v.useMemo)((function(){return{onHide:me}}),[me]);function Ne(){return ee||(0,N.t)({isRTL:ve})}function ge(e){if(l.Z){var n=Ne().getScrollbarWidth()>0,t=e.scrollHeight>(0,d.Z)(e).documentElement.clientHeight;oe({paddingRight:n&&!t?f():void 0,paddingLeft:!n&&t?f():void 0})}}var we=(0,Z.Z)((function(){Ze&&ge(Ze.dialog)}));(0,b.Z)((function(){(0,h.Z)(window,"resize",we),null==he.current||he.current()}));var Te=function(){le.current=!0},ye=function(e){le.current&&Ze&&e.target===Ze.dialog&&(de.current=!0),le.current=!1},je=function(){ue(!0),he.current=(0,m.Z)(Ze.dialog,(function(){ue(!1)}))},Ce=function(e){"static"!==P?de.current||e.target!==e.currentTarget?de.current=!1:null==B||B():function(e){e.target===e.currentTarget&&je()}(e)},Xe=(0,v.useCallback)((function(e){return(0,C.jsx)("div",(0,c.Z)((0,c.Z)({},e),{},{className:i()("".concat(t,"-backdrop"),Y,!I&&"show")}))}),[I,Y,t]),Ee=(0,c.Z)((0,c.Z)({},s),ae);Ee.display="block";return(0,C.jsx)(y.Z.Provider,{value:ke,children:(0,C.jsx)(k.Z,{show:L,ref:be,backdrop:P,container:_,keyboard:!0,autoFocus:U,enforceFocus:K,restoreFocus:M,restoreFocusOptions:z,onEscapeKeyDown:function(e){R||"static"!==P?R&&A&&A(e):(e.preventDefault(),je())},onShow:D,onHide:B,onEnter:function(e,n){e&&ge(e),null==J||J(e,n)},onEntering:function(e,n){null==Q||Q(e,n),(0,u.ZP)(window,"resize",we)},onEntered:W,onExit:function(e){null==he.current||he.current(),null==$||$(e)},onExiting:q,onExited:function(e){e&&(e.style.display=""),null==V||V(e),(0,h.Z)(window,"resize",we)},manager:Ne(),transition:I?O:void 0,backdropTransition:I?G:void 0,renderBackdrop:Xe,renderDialog:function(e){return(0,C.jsx)("div",(0,c.Z)((0,c.Z)({role:"dialog"},e),{},{style:Ee,className:i()(r,t,ie&&"".concat(t,"-static"),!I&&"show"),onClick:P?Ce:void 0,onMouseUp:ye,"aria-label":F,"aria-labelledby":E,"aria-describedby":S,children:(0,C.jsx)(X,(0,c.Z)((0,c.Z)({},ne),{},{onMouseDown:Te,className:g,contentClassName:w,children:T}))}))}})})}));_.displayName="Modal",_.defaultProps=B;var U=Object.assign(_,{Body:T,Header:R,Title:D,Footer:F,Dialog:S,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}}]);
//# sourceMappingURL=7135.ba467dc3.chunk.js.map